<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>GIBench 模型榜 | Endoscopy VQA Benchmark</title>
    <link
      rel="stylesheet"
      href="assets/css/gibench.css"
    />
  </head>
  <body>
    <div class="page">
      <header class="hero">
        <div class="hero-main">
          <div class="hero-kicker">Endoscopy VQA</div>
          <h1 id="hero-title">GIBench 模型榜</h1>
          <div class="tags hero-tags">
            <div class="lang-block" data-lang-visible="zh">
              <span class="tag tag--primary">ENDOSCOPY VQA</span>
              <span class="tag">Q1 解剖定位</span>
              <span class="tag">Q2 病变定位</span>
              <span class="tag">Q3 诊断</span>
              <span class="tag">Q4 看图说话</span>
              <span class="tag">Q5 后续建议</span>
            </div>
            <div class="lang-block" data-lang-visible="en">
              <span class="tag tag--primary">ENDOSCOPY VQA</span>
              <span class="tag">Q1 ANATOMICAL</span>
              <span class="tag">Q2 LOCALIZATION</span>
              <span class="tag">Q3 DIAGNOSIS</span>
              <span class="tag">Q4 FINDINGS</span>
              <span class="tag">Q5 RECOMMENDATION</span>
            </div>
          </div>
        </div>
        <div class="hero-stats">
          <div class="stat-card">
            <div class="stat-label" id="stat-disease-label">病变类型</div>
            <div class="stat-value">
              <span id="stat-disease-value">20</span>
            </div>
            <div class="stat-sub" id="stat-disease-sub">食管 / 胃 / 结直肠</div>
          </div>
          <div class="stat-card">
            <div class="stat-label" id="stat-image-label">图像与题目</div>
            <div class="stat-value">
              <span id="stat-image-value">947</span>
            </div>
            <div class="stat-sub" id="stat-image-sub">20类病变，Q1-Q5 评估</div>
          </div>
          <div class="stat-card">
            <div class="stat-label" id="stat-eval-label">Likert评估主体</div>
            <div class="stat-value">
              <span id="stat-eval-value">1</span>
            </div>
            <div class="stat-sub" id="stat-eval-sub">LLM 裁判</div>
          </div>
          <div class="stat-card">
            <div class="stat-label" id="stat-model-label">模型数量</div>
            <div class="stat-value">
              <span id="stat-model-value">12</span>
            </div>
            <div class="stat-sub" id="stat-model-sub">商业 / 医疗开源 / 开源</div>
          </div>
        </div>
      </header>

      <div class="header-row">
        <div
          class="tabs"
          role="tablist"
          aria-label="视图切换"
        >
          <button
            type="button"
            class="tab-button is-active"
            data-tab="human"
          >
            <span id="tab-label-human">初级临床医生与模型性能对比</span>
          </button>
        </div>
        <div class="lang-toggle" id="lang-toggle">
          <button type="button" class="lang-btn is-active" data-lang="zh">中文</button>
          <button type="button" class="lang-btn" data-lang="en">EN</button>
        </div>
        <div
          id="load-status"
          class="load-status"
        >
          等待加载 gibench_leaderboard.json…
        </div>
      </div>

      <main class="surface-main">
        <!-- 模型榜视图 -->
        <section
          id="tab-model"
          class="tab-panel"
          aria-label="模型榜视图"
        >
          <div class="controls">
            <div class="controls-group">
              <span class="label" id="label-tasks">任务</span>
              <button
                class="pill-toggle is-active"
                type="button"
                disabled
              >
                <span id="task-pill-q1">Q1 解剖定位</span>
              </button>
              <button
                class="pill-toggle is-active"
                type="button"
                disabled
              >
                <span id="task-pill-q2">Q2 病变定位</span>
              </button>
              <button
                class="pill-toggle is-active"
                type="button"
                disabled
              >
                <span id="task-pill-q3">Q3 诊断</span>
              </button>
            </div>
            <div class="controls-group">
              <span class="label" id="label-sort">排序（示意）</span>
              <span class="select-wrap">
                <select
                  id="sort-select"
                  class="select"
                >
                  <option id="sort-opt-q1" value="q1">按 Q1 Macro-F1</option>
                  <option id="sort-opt-q2" value="q2">按 Q2 mIoU</option>
                  <option id="sort-opt-q3" value="q3">按 Q3 Macro-F1</option>
                </select>
              </span>
            </div>
          </div>

          <section class="card card--paired">
            <div class="paired-grid">
              <div class="card-pane">
                <div class="card-header">
                  <div class="card-title" id="card-title-ranking">模型整体排名</div>
                  <div class="card-subtitle" id="card-subtitle-ranking">
                    具体加权方式请参考论文和文档。
                  </div>
                </div>
                <div class="table-wrapper">
                  <table>
                    <thead>
                      <tr>
                        <th>#</th>
                        <th id="table-col-model">模型</th>
                        <th>Q1 Macro-F1</th>
                        <th>Q2 mIoU</th>
                        <th>Q3 Macro-F1</th>
                      </tr>
                    </thead>
                    <tbody id="leaderboard-body"></tbody>
                  </table>
                </div>
              </div>
              <div class="card-pane card-pane--summary">
                <div class="card-header">
                  <div class="card-title" id="card-title-summary">当前模型概览</div>
                  <div
                    id="model-summary-name"
                    class="card-subtitle"
                  >
                    尚未选择模型。
                  </div>
                </div>
                <div
                  id="model-summary-metrics"
                  class="model-summary-metrics"
                ></div>
              </div>
            </div>
          </section>

          <section class="card card--detail">
            <div class="card-header">
              <div class="card-title" id="card-title-detail">按病变 / 区域细节</div>
              <div class="card-subtitle" id="card-subtitle-detail">
                选择子任务与病变，对比所有模型在对应指标下的表现。
              </div>
            </div>
            <div class="subtabs">
              <button
                type="button"
                class="subtab-btn is-active"
                data-subtab="q1"
              >
                <span id="subtab-q1">Q1 按病变</span>
              </button>
              <button
                type="button"
                class="subtab-btn"
                data-subtab="q2"
              >
                <span id="subtab-q2">Q2 按病变</span>
              </button>
              <button
                type="button"
                class="subtab-btn"
                data-subtab="q3"
              >
                <span id="subtab-q3">Q3 按区域</span>
              </button>
            </div>
            <div class="detail-controls">
              <span class="label" id="label-disease-select">病变选择</span>
              <span class="select-wrap">
                <select
                  id="detail-select"
                  class="select"
                ></select>
              </span>
              <span
                id="detail-selected-tip"
                class="detail-selected-tip"
              ></span>
            </div>
            <div
              id="detail-chart"
              class="bar-chart"
            ></div>
          </section>
        </section>

        <!-- 人机对比视图 -->
        <section
          id="tab-human"
          class="tab-panel is-active"
          aria-label="人机对比视图"
        >
          <div class="controls">
            <div class="controls-group">
              <span class="label" id="label-note">说明：</span>
              <span class="controls-note" id="note-human-main">
                仅展示总体层面的人机差异，可在论文/补充材料中查看更细粒度分析。
              </span>
            </div>
            <div class="controls-group">
              <span class="label" id="label-sort-human">排序（示意）</span>
              <span class="select-wrap">
                <select
                  id="human-sort-select"
                  class="select"
                >
                  <option id="human-sort-opt-q1" value="q1">按 Q1 Macro-F1</option>
                  <option id="human-sort-opt-q2" value="q2">按 Q2 mIoU</option>
                  <option id="human-sort-opt-q3" value="q3">按 Q3 Macro-F1</option>
                  <option id="human-sort-opt-q4" value="q4">按 Q4 Likert</option>
                  <option id="human-sort-opt-q5" value="q5">按 Q5 Likert</option>
                </select>
              </span>
            </div>
          </div>

          <section class="card card--paired">
            <div class="paired-grid">
              <div class="card-pane">
                <div class="card-header">
                  <div class="card-title" id="card-title-human-ranking">人机对比整体排名</div>
                  <div class="card-subtitle" id="card-subtitle-human-ranking">
                    具体加权方式请参考论文和文档。
                  </div>
                </div>
                <!-- 分组图例 -->
                <div id="human-category-legend" class="category-legend"></div>
                <div class="table-wrapper">
                  <table>
                    <thead>
                      <tr>
                        <th>#</th>
                        <th id="table-col-participant-human">参与者</th>
                        <th id="table-col-q1">Q1 解剖定位</th>
                        <th id="table-col-q2">Q2 病变定位</th>
                        <th id="table-col-q3">Q3 诊断</th>
                        <th id="table-col-q4">Q4 看图说话</th>
                        <th id="table-col-q5">Q5 后续建议</th>
                      </tr>
                    </thead>
                    <tbody id="human-leaderboard-body"></tbody>
                  </table>
                </div>
              </div>
              <div class="card-pane card-pane--summary">
                <div class="card-header">
                  <div class="card-title" id="card-title-human-summary">当前参与者概览</div>
                  <div
                    id="human-summary-name"
                    class="card-subtitle"
                  >
                    尚未选择参与者。
                  </div>
                </div>
                <div
                  id="human-summary-metrics"
                  class="model-summary-metrics"
                ></div>
              </div>
            </div>
          </section>

          <section class="card card--detail">
            <div class="card-header">
              <div>
                <div class="card-title" id="card-title-human-detail">人机对比按病变 / 题型细分</div>
                <div class="card-subtitle" id="card-subtitle-human-detail">
                  选择题型与病变，横向查看参与者（医生/模型）的表现差异。
                </div>
              </div>
            </div>
            <div class="subtabs">
              <button
                type="button"
                class="hvm-subtab-btn is-active"
                data-subtab="q1"
              >
                <span id="human-subtab-q1">Q1 按病变</span>
              </button>
              <button
                type="button"
                class="hvm-subtab-btn"
                data-subtab="q2"
              >
                <span id="human-subtab-q2">Q2 按病变</span>
              </button>
              <button
                type="button"
                class="hvm-subtab-btn"
                data-subtab="q3"
              >
                <span id="human-subtab-q3">Q3 按病变</span>
              </button>
              <button
                type="button"
                class="hvm-subtab-btn"
                data-subtab="q4"
              >
                <span id="human-subtab-q4">Q4 看图说话</span>
              </button>
              <button
                type="button"
                class="hvm-subtab-btn"
                data-subtab="q5"
              >
                <span id="human-subtab-q5">Q5 后续建议</span>
              </button>
            </div>
            <div class="detail-controls">
              <span class="label" id="label-human-disease-select">病变选择</span>
              <span class="select-wrap">
                <select
                  id="human-detail-select"
                  class="select"
                ></select>
              </span>
            </div>
            <div
              id="human-detail-chart"
              class="bar-chart"
            ></div>
          </section>
        </section>
      </main>

    </div>

    <script
      type="module"
      src="assets/js/app.js"
    ></script>
  </body>
</html>
